{% extends "base_generic.html" %}

{% block content %}
  <h1>Book List</h1>

  {% if perms.catalog.add_book %}
    <p>
      <a href="{% url 'book-create' %}">Create new book</a>
    </p>
  {% endif %}

  {% if book_list %}
    <ul>
      {% for book in book_list %}
        <li>
          <a href="{{ book.get_absolute_url }}">{{ book.title }}</a>
          ({{ book.author }})

          {% if perms.catalog.change_book %}
            — <a href="{% url 'book-update' book.pk %}">Edit</a>
          {% endif %}
          {% if perms.catalog.delete_book %}
            — <a href="{% url 'book-delete' book.pk %}">Delete</a>
          {% endif %}
        </li>
      {% endfor %}
    </ul>

    {% if is_paginated %}
      <nav aria-label="Page navigation">
        <ul class="pagination">
          {% if page_obj.has_previous %}
            <li><a href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
          {% endif %}
          <li>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</li>
          {% if page_obj.has_next %}
            <li><a href="?page={{ page_obj.next_page_number }}">Next</a></li>
          {% endif %}
        </ul>
      </nav>
    {% endif %}
  {% else %}
    <p>There are no books in the library.</p>
  {% endif %}
{% endblock %}
